"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[609],{5609:function(n,e,t){t.r(e),t.d(e,{default:function(){return Cn}});var r=t(9434),a=function(n){return n.contacts.items},i=function(n){return n.contacts.loading},o=function(n){return n.contacts.error},s=t(2791),c=t(5264),l=t(5705),d=function(n){var e={};return n.name?/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/i.test(n.name)||(e.name="Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"):e.name="Type name",n.number?/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){10,14}(\s*)?$/i.test(n.number)||(e.number="Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"):e.number="Type number",e},u=function(n,e){var t=n.name,r=n.number;return null===e||void 0===e?void 0:e.find((function(n){var e;return(null===(e=n.name)||void 0===e?void 0:e.toLowerCase())===t.toLowerCase()&&n.number===r}))},m=t(9126),f=t(9083),v=t(3888),h=t(6052),p=t(3329),b=function(){var n=(0,r.v9)(a),e=(0,r.v9)(i),t=(0,r.v9)(o),b=(0,r.I0)(),x={name:"",number:""},g=(0,l.TA)({initialValues:x,validate:d,enableReinitialize:!0,onSubmit:function(e,t){var r=e.name,a=e.number,i=t.resetForm;!function(e){if(u(e,n))return void c.Notify.warning("".concat(e.name," is alredy in contacts"));b((0,h.IH)(e))}({name:r,number:a}),g.errors.name||g.errors.number||i({initialValues:x})}});(0,s.useEffect)((function(){"add"===(null===t||void 0===t?void 0:t.type)&&c.Notify.failure("".concat(t.message))}),[t]);var y=g.handleSubmit,Z=g.handleChange,j=g.values,k=g.touched,w=g.errors;return(0,p.jsxs)(m.G,{onSubmit:y,children:[(0,p.jsx)(f.t,{id:"contactFormName",label:"Name",variant:"filled",type:"text",name:"name",size:"small",required:!0,value:j.name,onChange:Z,error:k.name&&Boolean(w.name),helperText:k.name&&w.name}),(0,p.jsx)(f.t,{id:"contactFormNumber",label:"Number",type:"tel",variant:"filled",name:"number",size:"small",required:!0,value:j.number,onChange:Z,error:k.number&&Boolean(w.number),helperText:k.number&&w.number}),(0,p.jsx)(v.r,{type:"submit",disabled:"add"===e,children:(0,p.jsx)("span",{children:"add"===e?"Adding...":"Add contact"})})]})},x=function(n){return n.filter},g=t(168),y=t(8789),Z=t(3366),j=t(7462),k=t(8182),w=t(4419),F=t(2554),C=t(9853),S=t(8929),P=t(5514),B=t(5878),N=t(1217);function E(n){return(0,N.Z)("MuiCircularProgress",n)}(0,B.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var I,M,z,D,T,A,L,R,_,q,G,V,J,$,H,K,O,W,Q=["className","color","disableShrink","size","style","thickness","value","variant"],U=44,X=(0,F.F4)(T||(T=I||(I=(0,g.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),Y=(0,F.F4)(A||(A=M||(M=(0,g.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),nn=(0,P.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e[t.variant],e["color".concat((0,C.Z)(t.color))]]}})((function(n){var e=n.ownerState,t=n.theme;return(0,j.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})}),(function(n){return"indeterminate"===n.ownerState.variant&&(0,F.iv)(L||(L=z||(z=(0,g.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),X)})),en=(0,P.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(n,e){return e.svg}})({display:"block"}),tn=(0,P.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(n,e){var t=n.ownerState;return[e.circle,e["circle".concat((0,C.Z)(t.variant))],t.disableShrink&&e.circleDisableShrink]}})((function(n){var e=n.ownerState,t=n.theme;return(0,j.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(n){var e=n.ownerState;return"indeterminate"===e.variant&&!e.disableShrink&&(0,F.iv)(R||(R=D||(D=(0,g.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),Y)})),rn=s.forwardRef((function(n,e){var t=(0,S.Z)({props:n,name:"MuiCircularProgress"}),r=t.className,a=t.color,i=void 0===a?"primary":a,o=t.disableShrink,s=void 0!==o&&o,c=t.size,l=void 0===c?40:c,d=t.style,u=t.thickness,m=void 0===u?3.6:u,f=t.value,v=void 0===f?0:f,h=t.variant,b=void 0===h?"indeterminate":h,x=(0,Z.Z)(t,Q),g=(0,j.Z)({},t,{color:i,disableShrink:s,size:l,thickness:m,value:v,variant:b}),y=function(n){var e=n.classes,t=n.variant,r=n.color,a=n.disableShrink,i={root:["root",t,"color".concat((0,C.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,C.Z)(t)),a&&"circleDisableShrink"]};return(0,w.Z)(i,E,e)}(g),F={},P={},B={};if("determinate"===b){var N=2*Math.PI*((U-m)/2);F.strokeDasharray=N.toFixed(3),B["aria-valuenow"]=Math.round(v),F.strokeDashoffset="".concat(((100-v)/100*N).toFixed(3),"px"),P.transform="rotate(-90deg)"}return(0,p.jsx)(nn,(0,j.Z)({className:(0,k.Z)(y.root,r),style:(0,j.Z)({width:l,height:l},P,d),ownerState:g,ref:e,role:"progressbar"},B,x,{children:(0,p.jsx)(en,{className:y.svg,ownerState:g,viewBox:"".concat(22," ").concat(22," ").concat(U," ").concat(U),children:(0,p.jsx)(tn,{className:y.circle,style:F,ownerState:g,cx:U,cy:U,r:(U-m)/2,fill:"none",strokeWidth:m})})}))})),an=(0,y.ZP)(rn)(_||(_=(0,g.Z)(["\n  &.MuiCircularProgress-root {\n    margin-top: 10px;\n    color: white;\n  }\n"]))),on=t(885),sn=t(5545),cn=t(5861),ln=t(4687),dn=t.n(ln),un=t(5130),mn=t(1428),fn=y.ZP.form(q||(q=(0,g.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  align-items: center;\n"]))),vn=y.ZP.div(G||(G=(0,g.Z)(["\n  .MuiFormControl-root {\n    display: block;\n  }\n  @media screen and (min-width: 670px) {\n    display: flex;\n    gap: 10px;\n  }\n"]))),hn=y.ZP.div(V||(V=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0;\n    color: transparent;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n  }\n"]))),pn=(0,y.ZP)(un.Z)(J||(J=(0,g.Z)(["\n  color: #b13232;\n"]))),bn=(0,y.ZP)(mn.Z)($||($=(0,g.Z)(["\n  color: #1a450c;\n"]))),xn=function(n){var e=n.id,t=n.startName,m=n.startNumber,v=n.closeEditForm,b=(0,r.v9)(a),x=(0,r.v9)(i),g=(0,r.v9)(o),y=(0,r.I0)(),Z={name:t,number:m},j=(0,l.TA)({initialValues:Z,validate:d,enableReinitialize:!0,onSubmit:function(n){var e=n.name,r=n.number;e!==t||r!==m?F({name:e,number:r}):v()}});(0,s.useEffect)((function(){"edit"===(null===g||void 0===g?void 0:g.type)&&c.Notify.failure("".concat(g.message))}),[g]);var k=document.getElementById("editFormBtn".concat(e)),w=document.getElementById("editFormBtnText".concat(e));(0,s.useEffect)((function(){window.addEventListener("click",s);var n=document.getElementById("editFormName".concat(e)),t=document.getElementById("editFormNumber".concat(e)),r=document.getElementById("closeEditFormBtn".concat(e)),a=document.getElementById("submitEditFormBtn".concat(e)),i=document.getElementById("editFormCloseIcon".concat(e)),o=document.getElementById("editFormSubmitIcon".concat(e));function s(e){var s=e.target;s!==n&&s!==t&&s!==r&&s!==a&&s!==k&&s!==w&&s!==i&&s!==o&&s!==o.children[0]&&v()}return function(){return window.removeEventListener("click",s)}}),[v,k,w,e]);var F=function(){var n=(0,cn.Z)(dn().mark((function n(t){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u(t,b)){n.next=3;break}return c.Notify.warning("".concat(t.name," is alredy in contacts")),n.abrupt("return");case 3:return n.next=5,y((0,h.eP)({id:e,body:t}));case 5:n.sent.error||v();case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),C=j.handleSubmit,S=j.handleChange,P=j.values,B=j.touched,N=j.errors;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(fn,{onSubmit:C,children:[(0,p.jsx)(sn.Z,{}),(0,p.jsxs)(vn,{children:[(0,p.jsx)(f.t,{id:"editFormName".concat(e),variant:"filled",size:"small",type:"text",name:"name",required:!0,value:P.name,onChange:S,error:B.name&&Boolean(N.name),helperText:B.name&&N.name}),(0,p.jsx)(f.t,{id:"editFormNumber".concat(e),variant:"filled",size:"small",type:"tel",name:"number",required:!0,value:P.number,onChange:S,error:B.number&&Boolean(N.number),helperText:B.number&&N.number})]}),"edit"===x?(0,p.jsx)(an,{}):(0,p.jsxs)(hn,{children:[(0,p.jsx)("button",{id:"closeEditFormBtn".concat(e),type:"button",disabled:"edit"===x,onClick:v,children:(0,p.jsx)(pn,{id:"editFormCloseIcon".concat(e)})}),(0,p.jsx)("button",{id:"submitEditFormBtn".concat(e),type:"submit",disabled:"edit"===x,children:(0,p.jsx)(bn,{id:"editFormSubmitIcon".concat(e)})})]})]})})},gn=y.ZP.li(H||(H=(0,g.Z)(["\n  align-items: flex-start;\n  display: flex;\n  gap: 8px;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  p {\n    margin: 0;\n  }\n"]))),yn=(y.ZP.button(K||(K=(0,g.Z)(["\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  transform: scale(1);\n  transition: transform 250ms linear;\n\n  &:hover svg,\n  &:focus {\n    transform: scale(1.05);\n  }\n"]))),y.ZP.div(O||(O=(0,g.Z)(["\n  margin-top: 4px;\n  display: flex;\n  gap: 8px;\n"])))),Zn=function(n){var e=n.name,t=n.number,a=n.id,l=(0,r.v9)(i),d=(0,r.v9)(o),u=(0,r.I0)(),m=(0,s.useState)(!1),f=(0,on.Z)(m,2),b=f[0],x=f[1];return(0,s.useEffect)((function(){(null===d||void 0===d?void 0:d.id)===a&&c.Notify.failure(d.message)}),[d,a]),(0,p.jsx)(gn,{children:b?(0,p.jsx)(xn,{id:a,startName:e,startNumber:t,closeEditForm:function(){return x(!1)}}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(sn.Z,{}),(0,p.jsxs)("div",{children:[e,": ",t,(0,p.jsxs)(yn,{children:[(0,p.jsx)(v.r,{id:"editFormBtn".concat(a),type:"button",disabled:l===a,onClick:function(){return x(!0)},children:(0,p.jsx)("span",{id:"editFormBtnText".concat(a),children:"Edit"})}),(0,p.jsx)(v.r,{id:"deleteBtn",type:"button",disabled:l===a,onClick:function(){return u((0,h.Od)(a))},children:l===a?(0,p.jsx)("span",{children:"Deleting..."}):(0,p.jsx)("span",{children:"Delete"})})]})]})]})})},jn=y.ZP.ul(W||(W=(0,g.Z)(["\n  padding-left: 0;\n  list-style: none;\n"]))),kn=function(){var n=(0,r.v9)(a),e=(0,r.v9)(i),t=(0,r.v9)(o),c=(0,r.v9)(x),l=(0,r.I0)();(0,s.useEffect)((function(){l((0,h.he)())}),[l]);var d=null===n||void 0===n?void 0:n.filter((function(n){var e=n.name;return null===e||void 0===e?void 0:e.toLowerCase().includes(null===c||void 0===c?void 0:c.toLowerCase())}));return(0,p.jsxs)(p.Fragment,{children:["fetch"===(null===t||void 0===t?void 0:t.type)&&(0,p.jsx)("div",{children:t.message}),"fetch"===e&&(0,p.jsx)(an,{}),n&&(0,p.jsx)(jn,{children:null===d||void 0===d?void 0:d.map((function(n){var e=n.name,t=n.number,r=n.id;return(0,p.jsx)(Zn,{name:e,number:t,id:r},r)}))})]})},wn=t(1634),Fn=function(){var n=(0,r.v9)(x),e=(0,r.I0)();return(0,p.jsx)(m.G,{children:(0,p.jsx)(f.t,{id:"filterInput",label:"Find contact by name",variant:"filled",type:"text",name:"filter",size:"small",value:n,onChange:function(n){e((0,wn.KJ)(n.currentTarget.value))}})})},Cn=function(){var n=(0,r.v9)(a);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h1",{children:"Add new contact"}),(0,p.jsx)(b,{}),(null===n||void 0===n?void 0:n.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h2",{children:"Contacts"}),(0,p.jsx)(Fn,{})]}),(0,p.jsx)(kn,{})]})}},9126:function(n,e,t){t.d(e,{G:function(){return i}});var r,a=t(168),i=t(8789).ZP.form(r||(r=(0,a.Z)(["\n  width: 250px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  button {\n    align-self: flex-start;\n  }\n\n  input {\n    margin-top: 6px;\n    width: 100%;\n  }\n"])))},9083:function(n,e,t){t.d(e,{t:function(){return s}});var r,a=t(168),i=t(5514),o=t(1668),s=(0,i.ZP)(o.Z)(r||(r=(0,a.Z)(["\n  & label.Mui-focused {\n    color: white;\n  }\n\n  & label.Mui-focused.Mui-error {\n    color: #d32f2f;\n  }\n\n  & .MuiFilledInput-root:after {\n    border-bottom-color: white;\n  }\n\n  input:-webkit-autofill {\n    -webkit-box-shadow: inset 0 0 0 50px #8e8890;\n    box-shadow: inset 0 0 0 50px #8e8890;\n    -webkit-text-fill-color: black;\n  }\n"])))},5130:function(n,e,t){var r=t(4836);e.Z=void 0;var a=r(t(5649)),i=t(3329),o=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");e.Z=o},1428:function(n,e,t){var r=t(4836);e.Z=void 0;var a=r(t(5649)),i=t(3329),o=(0,a.default)((0,i.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");e.Z=o}}]);
//# sourceMappingURL=609.fbddc422.chunk.js.map